# 图片资源配置指南

## 📸 持仓分享图功能

### 功能说明
生成类似富途证券的9:16手机分享图，包含持仓盈亏、股票信息等。

## 🎨 图片资源要求

### 1. 卡通人物图片（必需）

**文件路径**: `/home/lanlic/Html-Project/Stocks-Lab/static/images/mascot.png`

**规格要求**:
- **尺寸**: 800 x 800 像素（正方形）
- **格式**: PNG
- **背景**: 透明背景（必须）
- **内容**: 卡通人物形象
- **建议**: 类似富途的柴犬王座形象

**制作建议**:
- 使用AI生成工具（如Midjourney、DALL-E）
- 确保背景完全透明
- 人物居中，周围留白约50-100px
- 色彩鲜艳，适合绿色/红色背景

### 2. 平台Logo（可选）

**文件路径**: `/home/lanlic/Html-Project/Stocks-Lab/static/images/logo-white.png`

**规格要求**:
- **尺寸**: 200 x 60 像素（横向）
- **格式**: PNG
- **背景**: 透明背景
- **颜色**: 白色（用于深色背景）

## 📐 分享图规格

### 输出图片
- **尺寸**: 1080 x 1920 像素
- **比例**: 9:16（手机竖屏）
- **格式**: PNG
- **质量**: 高清（scale: 2）

### 布局设计

```
┌─────────────────────────────┐
│  📊 Stocks-Lab              │  ← 平台Logo (60px from top)
│                             │
│   % Unrealized P/L          │  ← 标签 (200px from top)
│   +101.45%                  │  ← 盈亏百分比 (大字)
│                             │
│                             │
│        [卡通人物]           │  ← 卡通形象 (550-1350px)
│                             │
│                             │
│  ┌─────────────────────┐   │
│  │ 00100    Price      │   │  ← 股票信息卡片
│  │ MINIMAX  332.400    │   │
│  │          Avg Cost   │   │
│  │          165.00     │   │
│  └─────────────────────┘   │
│                             │
│  User Name    Jan 9, 2026  │  ← 底部信息
│              ⚪ Watermark   │
│                             │
│  [1PLABS PRO 背景水印]      │  ← 半透明大字水印
└─────────────────────────────┘
```

## 🎨 颜色方案

### 盈利状态（绿色）
- **主色**: #00C853
- **渐变**: linear-gradient(135deg, #00C853 0%, #00E676 100%)
- **文字**: 白色 (#FFFFFF)

### 亏损状态（红色）
- **主色**: #F44336
- **渐变**: linear-gradient(135deg, #F44336 0%, #FF5252 100%)
- **文字**: 白色 (#FFFFFF)

### 水印
- **颜色**: rgba(255, 255, 255, 0.08)
- **文字**: "1PLABS PRO"
- **角度**: -30度旋转
- **大小**: 120px

## 📁 文件结构

```
/home/lanlic/Html-Project/Stocks-Lab/static/images/
├── mascot.png              # 卡通人物 (800x800, 透明)
├── logo-white.png          # 平台Logo (200x60, 可选)
└── exports/                # 导出图片保存目录
    └── share-*.png         # 用户生成的分享图
```

## 🔧 使用方法

### 1. 准备图片资源
将卡通人物图片保存到指定位置：
```bash
# 创建目录
mkdir -p /home/lanlic/Html-Project/Stocks-Lab/static/images/

# 放置图片
# 将 mascot.png 复制到上述目录
```

### 2. 访问分享页面
```
http://your-domain/accounts/{账户ID}/share/
```

### 3. 生成分享图
1. 点击"生成图片"按钮
2. 等待图片生成（约2-3秒）
3. 预览生成的图片
4. 点击"下载图片"保存

## 🎯 图片元素说明

### 顶部区域 (0-200px)
- **平台Logo**: 左上角，60px边距
- **字体**: 48px, 粗体, 白色

### 盈亏区域 (200-550px)
- **标签**: "% Unrealized P/L"，32px
- **百分比**: 160px超大字体
- **符号**: +/- 根据盈亏自动显示

### 卡通区域 (550-1350px)
- **容器**: 800x800px
- **图片**: 自动缩放，保持比例
- **阴影**: drop-shadow(0 10px 30px rgba(0,0,0,0.3))

### 股票信息卡片 (底部350px起)
- **背景**: 白色半透明 rgba(255,255,255,0.95)
- **圆角**: 30px
- **内边距**: 50px
- **内容**:
  - 股票代码: 32px, 灰色
  - 股票名称: 56px, 粗体, 黑色
  - 现价: 64px, 粗体
  - 均价: 64px, 粗体

### 底部信息 (底部80px)
- **用户名**: 36px, 白色
- **日期**: 32px, 白色半透明
- **水印徽章**: 右下角，半透明白色边框

## 🚀 技术实现

### 使用的库
- **html2canvas**: 将HTML转换为图片
- **CDN**: https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js

### 生成参数
```javascript
html2canvas(element, {
    scale: 2,           // 2倍清晰度
    useCORS: true,      // 允许跨域图片
    allowTaint: true,   // 允许污染画布
    backgroundColor: null,
    width: 1080,
    height: 1920
})
```

## 📝 注意事项

1. **图片必须透明背景**: 卡通人物图片必须是透明PNG
2. **图片大小**: 建议不超过2MB，加载更快
3. **浏览器兼容**: 需要现代浏览器支持（Chrome, Firefox, Safari）
4. **CORS问题**: 如果图片加载失败，检查CORS设置
5. **生成时间**: 首次生成可能需要3-5秒

## 🎨 设计参考

参考富途证券的分享图设计：
- 简洁大方的布局
- 醒目的盈亏百分比
- 可爱的卡通形象
- 清晰的股票信息
- 专业的品牌水印

## 📊 示例数据

生成的分享图会显示：
- **盈亏百分比**: 根据持仓计算
- **股票代码**: 如 00100
- **股票名称**: 如 MINIMAX-WP
- **现价**: 实时价格（当前使用成本价）
- **均价**: 持仓成本价
- **用户名**: 账户名称
- **日期**: 生成时间

---

## 快速开始

1. **准备卡通图片** (800x800px, 透明PNG)
2. **保存到**: `/home/lanlic/Html-Project/Stocks-Lab/static/images/mascot.png`
3. **访问**: `http://your-domain/accounts/{账户ID}/share/`
4. **点击**: "生成图片"
5. **下载**: 保存分享图

完成！🎉
